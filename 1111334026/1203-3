#include <stdio.h>

double power(double x, int n);
double fact(int n);

int main()
{
    const int m = 15;       
    int terms[m];           
    int n;
    double x;

    printf("輸入 n (n < %d): ", m);
    scanf_s("%d", &n);

    printf("輸入 x: ");
    scanf_s("%lf", &x);

    double result = 0.0;

    for (int k = 0; k <= n; k++)
    {
        double term = power(x, k) / fact(k); 
        result += term;                       
        terms[k] = (int)term;                 
    }

    
    printf("e^x = %lf\n", result);

    
    printf("級數每一項:\n");
    for (int k = 0; k <= n; k++)
    {
        printf("terms[%d] = %d\n", k, terms[k]);
    }

    return 0;
}


double power(double x, int n)
{
    if (n <= 0)
        return 1;
    return x * power(x, n - 1);
}


double fact(int n)
{
    if (n <= 0)
        return 1;
    return n * fact(n - 1);
}
