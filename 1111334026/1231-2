#include <stdio.h>
#include <string.h>

#define SIZE 10

struct student {
    int id;
    int computer;
    int math;
    char name[20];
    float avg;
};


void copy1(char* s1, const char* s2) {
    for (; (*s1 = *s2) != '\0'; s1++, s2++);
}


void swap_student(struct student* a, struct student* b) {
    struct student temp = *a;
    *a = *b;
    *b = temp;
}


void sort_students(struct student stu[], int n) {
    int i, j;
    for (i = 0; i < n - 1; i++) {
        for (j = 0; j < n - 1 - i; j++) {
            if (stu[j].avg < stu[j + 1].avg) {
                swap_student(&stu[j], &stu[j + 1]);
            }
        }
    }
}

int main() {
    struct student stu[SIZE] = {
        {11, 85, 70, "Danny", 0},
        {15, 92, 80, "Mary", 0},
        {13, 78, 75, "Jimmy", 0},
        {18, 85, 90, "Peter", 0},
        {12, 90, 85, "Sue", 0},
        {17, 85, 70, "John", 0},
        {14, 76, 82, "Hearts", 0},
        {19, 95, 92, "Diamonds", 0},
        {16, 88, 88, "Clubs", 0},
        {20, 85, 70, "Spades", 0}
    };

    int i;


    for (i = 0; i < SIZE; i++) {
        stu[i].avg = (stu[i].computer + stu[i].math) / 2.0;
    }

    printf("排序前：\n");
    printf("姓名\t學號\t計概成績\t數學成績\t平均成績\n");
    for (i = 0; i < SIZE; i++) {
        printf("%s\t%d\t    %d\t\t    %d\t\t    %.2f\n",
            stu[i].name, stu[i].id, stu[i].computer, stu[i].math, stu[i].avg);
    }

    sort_students(stu, SIZE);

    printf("\n排序後（依平均成績）：\n");
    printf("姓名\t學號\t計概成績\t數學成績\t平均成績\n");
    for (i = 0; i < SIZE; i++) {
        printf("%s\t%d\t    %d\t\t    %d\t\t    %.2f\n",
            stu[i].name, stu[i].id, stu[i].computer, stu[i].math, stu[i].avg);
    }

    return 0;
}
