#include <stdio.h>

int main() {
    double principal, annual_rate, monthly_deposit, target;
    double amount;
    int year = 0;

    // 輸入本金、年利率、每月定存金額、目標金額
    printf("請輸入本金 (p): ");
    scanf_s("%lf", &principal);
    printf("請輸入年利率 (r, 小數表示，例如0.05): ");
    scanf_s("%lf", &annual_rate);
    printf("請輸入每月定期存入金額: ");
    scanf_s("%lf", &monthly_deposit);
    printf("請輸入存款目標 (aims): ");
    scanf_s("%lf", &target);

    amount = principal;

    // 年利率換算成月利率
    double monthly_rate = annual_rate / 12.0;

    while (amount < target) {
        year++;
        // 一年12個月，逐月計算
        for (int month = 1; month <= 12; month++) {
            // 本金加利息
            amount += amount * monthly_rate;
            // 每月底定期存入
            amount += monthly_deposit;
        }
        printf("第 %d 年底的本利合為: %.2lf\n", year, amount);
    }

    printf("達成目標 %f 需要 %d 年。\n", target, year);

    return 0;
}
