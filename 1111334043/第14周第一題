#include <stdio.h>

#define STUDENTS 10


float sort_and_median(int score[3][STUDENTS], float avg[])
{
    int i, j, k;
    float temp_avg;
    int temp;

    for (i = 0; i < STUDENTS - 1; i++)
    {
        for (j = 0; j < STUDENTS - 1 - i; j++)
        {
            if (avg[j] > avg[j + 1])
            {
                temp_avg = avg[j];
                avg[j] = avg[j + 1];
                avg[j + 1] = temp_avg;

                for (k = 0; k < 3; k++)
                {
                    temp = score[k][j];
                    score[k][j] = score[k][j + 1];
                    score[k][j + 1] = temp;
                }
            }
        }
    }

    
    return (avg[4] + avg[5]) / 2.0;
}

int main()
{
    int score[3][STUDENTS] = 
    {
        {1001,1002,1003,1004,1005,1006,1007,1008,1009,1010}, 
        {80, 75, 90, 60, 85, 70, 95, 88, 76, 92},          
        {78, 82, 88, 65, 90, 72, 93, 85, 80, 89}           
    };

    float avg[STUDENTS];
    float median;
    int i;

    
    for (i = 0; i < STUDENTS; i++)
    {
        avg[i] = (score[1][i] + score[2][i]) / 2.0;
    }

    
    median = sort_and_median(score, avg);

    
    printf("學號\t計概\t數學\t平均\n");
    for (i = 0; i < STUDENTS; i++)
    {
        printf("%d\t%d\t%d\t%.2f\n",
            score[0][i],
            score[1][i],
            score[2][i],
            avg[i]);
    }

    printf("\n全體學生平均成績的中位數 = %.2f\n", median);

    return 0;
}

