#include <stdio.h>
#include <string.h>
#define SIZE 10

struct s
{
    char name[SIZE];
    int id, c, m;
    float avg;
};
typedef struct s SS;


int k(SS s2[], int Key, int low, int high)
{

    while (low <= high) {

        int middle = (low + high) / 2;


        if (Key == s2[middle].id) {
            return middle;
        }


        else if (Key < s2[middle].id) {
            high = middle - 1;
        }
        else {
            low = middle + 1;
        }
    }

    return -1;
}


int main() {


    SS s2[SIZE] = { {"Danny", 11, 85,70},{"Sue", 12, 90,85},{"Jimmy", 13, 78,75},
                     {"Hearts", 14, 76,70},{"Mary", 15, 92,80}, {"Clubs", 16, 88,88},
                    {"John", 17, 85,70},{"Peter", 18, 85,90},{"Diamonds", 19, 95,92},{"Spades", 20, 85,70} };

    int i;
    for (i = 0; i < SIZE; i++) {
        s2[i].avg = (s2[i].c + s2[i].m) / 2.0;
    }

    int result, key;
    int low = 0;
    printf("請輸入你要找的學號鍵值:");
    scanf_s("%d", &key);

    result = k(s2, key, low, SIZE - 1);
    

    if (result == -1) {
        printf("找不到資料\n");
    }
    else {
        printf("這位學號是%d的同學的名字%s,%d,%d,%f\n", key, s2[result].name, s2[result].c, s2[result].m, s2[result].avg);
    }

        return 0;
    }