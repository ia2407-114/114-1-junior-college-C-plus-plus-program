#include <stdio.h>
#include <string.h>
#define SIZE 10

struct s
{
    char name[SIZE];
    int id, c, m;
    float avg;
};
typedef struct s SS;

void sort_array(SS s1[SIZE], int n) {
    int i, j;
    SS temp;
  

    for (i = 0; i < n - 1; i++) {
        for (j = 0; j < n - 1 - i; j++) {
            if (s1[j].avg < s1[j + 1].avg) {

                temp = s1[j];
                s1[j] = s1[j+1];
                s1[j + 1] = temp;

            }
        }
    }
}


int main() {
    

      SS s1[SIZE] = { {"Danny", 11, 85,70},{"Mary", 15, 92,80},
                          {"Jimmy", 13, 78,75}, {"Peter", 18, 85,90},
                          {"Sue", 12, 90,85}, {"John", 17, 85,70},
                          {"Hearts", 14, 76,70}, {"Diamonds", 19, 95,92},
                          {"Clubs", 16, 88,88}, {"Spades", 20, 85,70}};


      int i;
    printf("排序前：\n");
    printf("姓名\t學號\t計概成績\t數學成績\t平均成績\n"); \
        for (i = 0; i < SIZE; i++) {
            s1[i].avg = (s1[i].c + s1[i].m) / 2.0;
        }
    for (i = 0; i < SIZE; i++) {
        printf("%s\t%d\t    %d\t\t    %d\t\t    %f\t\n", s1[i].name, s1[i].id, s1[i].c, s1[i].m, s1[i].avg);
    }


    sort_array(s1, SIZE);

    printf("\n排序後（依平均成績）：\n");
    printf("姓名\t學號\t計概成績\t數學成績\t平均成績\n"); \

        for (i = 0; i < SIZE; i++) {
            printf("%s\t%d\t    %d\t\t    %d\t\t    %f\t\n", s1[i].name, s1[i].id, s1[i].c, s1[i].m, s1[i].avg);
        }


    return 0;
}
