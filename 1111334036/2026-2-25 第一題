#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main(void)
{
    FILE* cfPtr;
    if ((cfPtr = fopen("students.txt", "w")) == NULL) {
        puts("File could not be opened");
        return 1;
    }

    char name[30];
    unsigned int id;
    int math, computer;
    double average;

    printf("請輸入 3 位學生資料：\n");

    for (int i = 0; i < 3; i++)
    {
        printf("\n學生 %d\n", i + 1);
        printf("姓名 學號 數學 計算機：");

        scanf_s("%29s %u %d %d",
            name, 30,
            &id,
            &math,
            &computer);

        average = (math + computer) / 2.0;

        fprintf(cfPtr, "%s %u %d %d %.2f\n",
            name, id, math, computer, average);
    }

    fclose(cfPtr);

    puts("\n資料已寫入 students.txt");

    return 0;
}
