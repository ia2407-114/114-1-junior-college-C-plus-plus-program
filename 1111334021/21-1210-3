#include <stdio.h>
#define size 10
int order(int stu[], int cal[], int math[], double avg[]);
double max(double avg[]);
int main()
{
	int stu[size];
	int cal[size];
	int math[size];
	double avg[size];
	for (int i = 0; i < size; i++) {
		printf("請輸入第%d學號:\n", i + 1);
		scanf_s("%d", &stu[i]);
		printf("請輸入第%d號的計概成績:\n", i + 1);
		scanf_s("%d", &cal[i]);
		printf("請輸入第%d號的數學成績:\n", i + 1);
		scanf_s("%d", &math[i]);
		avg[i] = (cal[i] + math[i]) / 2.0;
	}
	printf("學號 計概 數學 平均\n");
	for (int i = 0; i < size; i++) {
		printf(" %d   %d   %d   %f\n", stu[i], cal[i], math[i], avg[i]);
	}
	order(stu, cal, math, avg);
	printf("學號 計概 數學 平均\n");
	for (int i = 0; i < size; i++) {
		printf(" %d   %d   %d   %f\n", stu[i], cal[i], math[i], avg[i]);
	}
	printf("眾數：");
	printf("%lf ", max(avg));
	return 0;
}
int order(int stu[], int cal[], int math[], double avg[]) {
	double temp = 0;
	int temps = 0;
	int tempc = 0;
	int tempm = 0;
	for (int i = 0; i < size - 1; i++) {
		for (int j = 0; j < size - 1-i ; j++) {
			if (avg[j] > avg[j + 1]) {
				temps = stu[j];
				stu[j] = stu[j + 1];
				stu[j + 1] = temps;

				tempc = cal[j];
				cal[j] = cal[j + 1];
				cal[j + 1] = tempc;

				tempm = math[j];
				math[j] = math[j + 1];
				math[j + 1] = tempm;

				temp = avg[j];
				avg[j] = avg[j + 1];
				avg[j + 1] = temp;
			}
		}
	}
	return 0;
}
double max(double avg[]) {
	int count[size] = { 0 };
	int maxcount = 0;
	for (int i = 0; i < size; i++) {
		for (int j = 0; j < size; j++) {
			if (avg[i] == avg[j]) {
				count[i] = count[i] + 1;
			}
		}
	}
	for (int i = 0; i < size; i++) {
		if (count[i] > maxcount) {
			maxcount = count[i];
		}
	}
	for (int i = 0; i < size; i++) {
		if (count[i] == maxcount) {
			return avg[i];
		}
	}
}
