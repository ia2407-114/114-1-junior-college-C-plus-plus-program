#include <stdio.h>


void sortArrays(int id[], int cs[], int math[], float avg[], int n) {
    int i, j, tempInt;
    float tempFloat;

    for (i = 0; i < n - 1; i++) {
        for (j = 0; j < n - 1 - i; j++) {
            if (avg[j] > avg[j + 1]) {

             
                tempFloat = avg[j];
                avg[j] = avg[j + 1];
                avg[j + 1] = tempFloat;

             
                tempInt = id[j];
                id[j] = id[j + 1];
                id[j + 1] = tempInt;

        
                tempInt = cs[j];
                cs[j] = cs[j + 1];
                cs[j + 1] = tempInt;

                tempInt = math[j];
                math[j] = math[j + 1];
                math[j + 1] = tempInt;
            }
        }
    }
}

int findMode(int arr[], int n) {
    int mode = arr[0];
    int maxCount = 0;

    for (int i = 0; i < n; i++) {
        int count = 1;
        for (int j = i + 1; j < n; j++) {
            if (arr[i] == arr[j])
                count++;
        }
        if (count > maxCount) {
            maxCount = count;
            mode = arr[i];
        }
    }
    return mode;
}

int main() {
    int id[10], cs[10], math[10];
    float avg[10];
    int n = 10;

    printf("請輸入 10 位學生的學號、計概成績、數學成績：\n");

    for (int i = 0; i < n; i++) {
        printf("\n第 %d 位學生：\n", i + 1);
        printf("學號：");
        scanf_s("%d", &id[i]);
        printf("計概成績：");
        scanf_s("%d", &cs[i]);
        printf("數學成績：");
        scanf_s("%d", &math[i]);

        avg[i] = (cs[i] + math[i]) / 2.0; 
    }

    int csMode = findMode(cs, n);

    printf("\n===== 排序前結果 =====\n");
    printf("學號   計概   數學   平均\n");
    for (int i = 0; i < n; i++) {
        printf("%4d   %3d    %3d    %.1f\n", id[i], cs[i], math[i], avg[i]);
    }

    sortArrays(id, cs, math, avg, n);

    printf("\n===== 排序後（依平均成績由小到大）=====\n");
    printf("學號   計概   數學   平均\n");
    for (int i = 0; i < n; i++) {
        printf("%4d   %3d    %3d    %.1f\n", id[i], cs[i], math[i], avg[i]);
    }

    printf("\n計概成績的眾數 = %d\n", csMode);

    return 0;
}
