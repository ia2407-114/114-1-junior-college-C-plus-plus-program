#include <stdio.h>

#define STUDENTS 10

float sortAndMedian(int score[3][STUDENTS], float avg[STUDENTS])
{
    int i, j, k;
    float tempf;
    int tempi;

    for (i = 0; i < STUDENTS - 1; i++)
    {
        for (j = 0; j < STUDENTS - 1 - i; j++)
        {
            if (avg[j] > avg[j + 1])
            {
             
                tempf = avg[j];
                avg[j] = avg[j + 1];
                avg[j + 1] = tempf;

                for (k = 0; k < 3; k++)
                {
                    tempi = score[k][j];
                    score[k][j] = score[k][j + 1];
                    score[k][j + 1] = tempi;
                }
            }
        }
    }

    return (avg[4] + avg[5]) / 2.0;
}

int main(void)
{
    int score[3][STUDENTS];
    float avg[STUDENTS];
    float median;
    int i;

    for (i = 0; i < STUDENTS; i++)
    {
        printf("請輸入第 %d 位學生的 學號 計概 數學：", i + 1);
        scanf_s("%d %d %d", &score[0][i], &score[1][i], &score[2][i]);

 
        avg[i] = (score[1][i] + score[2][i]) / 2.0;
    }

    median = sortAndMedian(score, avg);

    printf("\n排序後結果：\n");
    printf("學號\t計概\t數學\t平均\n");
    for (i = 0; i < STUDENTS; i++)
    {
        printf("%d\t%d\t%d\t%.2f\n",
            score[0][i], score[1][i], score[2][i], avg[i]);
    }

    printf("\n中位數 = %.2f\n", median);

    return 0;
}
