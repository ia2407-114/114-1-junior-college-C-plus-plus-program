#include <stdio.h>
#include <string.h>

#define STUDENTS 10
#define NAME_LEN 20


void sortData(char name[STUDENTS][NAME_LEN],
    int score[3][STUDENTS],
    float avg[STUDENTS])
{
    int i, j, k;
    float tempAvg;
    int tempInt;
    char tempName[NAME_LEN];

    for (i = 0; i < STUDENTS - 1; i++)
    {
        for (j = 0; j < STUDENTS - 1 - i; j++)
        {
            if (avg[j] > avg[j + 1])
            {
              
                tempAvg = avg[j];
                avg[j] = avg[j + 1];
                avg[j + 1] = tempAvg;

                strcpy(tempName, name[j]);
                strcpy(name[j], name[j + 1]);
                strcpy(name[j + 1], tempName);

              
                for (k = 0; k < 3; k++)
                {
                    tempInt = score[k][j];
                    score[k][j] = score[k][j + 1];
                    score[k][j + 1] = tempInt;
                }
            }
        }
    }
}

int main(void)
{
    char name[STUDENTS][NAME_LEN];
    int score[3][STUDENTS];
    float avg[STUDENTS];
    int i;

    for (i = 0; i < STUDENTS; i++)
    {
        printf("請輸入第 %d 位學生姓名：", i + 1);
        scanf_s("%s", name[i]);

        printf("請輸入 學號 計概 數學：");
        scanf_s("%d %d %d",
            &score[0][i],
            &score[1][i],
            &score[2][i]);

        avg[i] = (score[1][i] + score[2][i]) / 2.0;
    }

    sortData(name, score, avg);

    printf("\n排序後結果（依平均成績）：\n");
    printf("姓名\t學號\t計概\t數學\t平均\n");

    for (i = 0; i < STUDENTS; i++)
    {
        printf("%s\t%d\t%d\t%d\t%.2f\n",
            name[i],
            score[0][i],
            score[1][i],
            score[2][i],
            avg[i]);
    }

    return 0;
}
