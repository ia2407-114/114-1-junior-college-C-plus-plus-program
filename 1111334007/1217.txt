#include <stdio.h>

void sort_form(int form[][10], float average[10]);

int main()
{
	int form[3][10] = { {11, 15 ,13 ,18, 12, 17, 14, 19, 16, 20 },		
		{ 64, 92, 78, 85, 90, 85, 76, 95, 88, 85 },						
		{ 70, 80, 75, 90, 85, 70, 82, 92, 88, 70 } };					
	float average[10];
	for (int i = 0; i < 9; i++)
	{
		average[i] = (form[1][i] + form[2][i]) / 2.0;
	}

	printf("學號\t計概成績\t數學成績\t平均成績\n");
	
	sort_form(form, average);													

	for (int i = 0; i < 9; i++)											
	{
		printf("%d\t%d\t\t%d\t\t%f\n", form[0][i], form[1][i], form[2][i], average[i]);
	}
}

void sort_form(int form[][10], float average[10])
{
	int temp;
	float temp2;
	for (int pass = 0; pass < 9; pass++)
	{
		for (int i = 0; i < 9 - pass; i++)
		{
			if (average[i + 1] > average[i])
			{
				temp2 = average[i + 1];
				average[i + 1] = average[i];
				average[i] = temp2;
				temp = form[0][i + 1];
				form[0][i + 1] = form[0][i];
				form[0][i] = temp;
				temp = form[1][i + 1];
				form[1][i + 1] = form[1][i];
				form[1][i] = temp;
				temp = form[2][i + 1];
				form[2][i + 1] = form[2][i];
				form[2][i] = temp;
			}
		}
	}
}